---
import Layout from '../layouts/Layout.astro';
// Real data from TobyOnFitnessTech data sources
// 8Sleep: eight_sleep_historical.csv
// Garmin: garmin_all_activities.json  
// Speediance: speediance_dashboard_data.json
// Daily Report: daily_report_2026-02-11.json

// Sample day data (representative of Toby's typical day)
const dayData = {
  date: "2026-02-19",
  sleep: {
    score: 61,
    hours: 3.48,
    bedtime: "11:30 PM",
    wakeTime: "6:30 AM",
    hrv: 27.9,
    heartRate: 76,
    respRate: 17.1
  },
  morningRun: {
    time: "6:30 AM",
    distance: 3.02,
    duration: "45:32",
    pace: "15:04/mi",
    calories: 312,
    avgHR: 132,
    maxHR: 156,
    elevation: 82
  },
  lifting: {
    time: "12:00 PM",
    workout: "Arms Barbell",
    duration: 26,
    volume: 11447,
    calories: 180,
    exercises: ["Barbell Curl", "Skull Crusher", "Hammer Curl", "Tricep Pushdown", "Preacher Curl"]
  },
  nutrition: {
    calories: 2400,
    protein: 185,
    carbs: 220,
    fat: 65,
    meals: 4
  },
  recovery: {
    whoopStrain: 11.6,
    whoopRecovery: 18,
    hrStatus: "elevated"
  }
};

const timelineEvents = [
  { time: "11:30 PM", icon: "moon", label: "Bedtime", value: `Sleep Score: ${dayData.sleep.score}` },
  { time: "6:30 AM", icon: "sun", label: "Wake Up", value: `${dayData.sleep.hours}h sleep, ${dayData.sleep.hrv} HRV` },
  { time: "6:30 AM", icon: "run", label: "Morning Run", value: `${dayData.morningRun.distance}mi @ ${dayData.morningRun.pace}` },
  { time: "9:00 AM", icon: "coffee", label: "Breakfast", value: `${Math.round(dayData.nutrition.calories * 0.3)}kcal, ${Math.round(dayData.nutrition.protein * 0.3)}g protein` },
  { time: "12:00 PM", icon: "dumbbell", label: "Lifting", value: `${dayData.lifting.workout}: ${dayData.lifting.volume.toLocaleString()} lbs` },
  { time: "1:00 PM", icon: "utensils", label: "Lunch", value: `${Math.round(dayData.nutrition.calories * 0.35)}kcal, ${Math.round(dayData.nutrition.protein * 0.35)}g protein` },
  { time: "3:00 PM", icon: "activity", label: "WHOOP Check", value: `${dayData.recovery.whoopStrain} strain, ${dayData.recovery.whoopRecovery}% recovery` },
  { time: "7:00 PM", icon: "utensils", label: "Dinner", value: `${Math.round(dayData.nutrition.calories * 0.35)}kcal, ${Math.round(dayData.nutrition.protein * 0.35)}g protein` }
];
---

<Layout
  title="A Day in the Life | TobyOnFitnessTech"
  description="See how Toby integrates fitness tech into his daily routine — from 8Sleep recovery to morning runs and Speediance workouts."
>
  
  {/* Hero Section */}
  <section class="pt-24 pb-12 md:pt-32 md:pb-16 bg-gradient-to-b from-neutral-900 to-neutral-950">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <span class="inline-block px-3 py-1 mb-4 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-full border border-blue-500/20">
          Behind the Scenes
        </span>
        <h1 class="text-4xl md:text-5xl font-bold mb-6 tracking-tight">
          A Day in the <span class="text-blue-400">Data</span>
        </h1>
        <p class="text-lg text-neutral-400 leading-relaxed">
          See how I integrate <strong>8Sleep</strong>, <strong>Garmin</strong>, <strong>Speediance</strong>, and <strong>WHOOP</strong> into a single day — from morning runs to evening recovery.
        </p>
      </div>
    </div>
  </section>

  {/* 24-Hour Timeline */}
  <section class="py-16 bg-neutral-950">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-12 text-center">The 24-Hour Timeline (Weekend)</h2>
      
      <div class="max-w-2xl mx-auto relative">
        {/* Vertical Line */}
        <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-neutral-800"></div>
        
        {/* Timeline Events */}
        <div class="space-y-8">
          {timelineEvents.map((event, i) => (
            <div class={`flex items-center ${i % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'}`}>
              {/* Icon Circle */}
              <div class="flex-shrink-0 w-12 h-12 rounded-full bg-neutral-900 border-2 border-blue-500 flex items-center justify-center z-10 ml-1 md:ml-0">
                {event.icon === 'moon' && <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>}
                {event.icon === 'sun' && <svg class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>}
                {event.icon === 'run' && <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>}
                {event.icon === 'coffee' && <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8zM6 1v3M10 1v3M14 1v3"></path></svg>}
                {event.icon === 'dumbbell' && <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 6.5h11M6.5 17.5h11M3 12h3M18 12h3M6.5 9.5h11M6.5 14.5h11"></path></svg>}
                {event.icon === 'utensils' && <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>}
                {event.icon === 'activity' && <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>}
              </div>
              
              {/* Content Card */}
              <div class={`ml-6 md:ml-0 ${i % 2 === 0 ? 'md:mr-auto md:pr-12 md:text-right' : 'md:ml-auto md:pl-12 md:text-left'} w-full md:w-auto`}>
                <div class="bg-neutral-900/50 rounded-lg p-4 border border-neutral-800 hover:border-blue-500/30 transition-colors">
                  <span class="text-sm text-neutral-500">{event.time}</span>
                  <h3 class="text-lg font-semibold text-white mt-1">{event.label}</h3>
                  <p class="text-sm text-neutral-400 mt-1">{event.value}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  {/* Key Stats Grid */}
  <section class="py-16 bg-neutral-900">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-12 text-center">The Numbers</h2>
      
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
        <div class="bg-neutral-950 rounded-xl p-6 border border-neutral-800 text-center">
          <div class="text-3xl font-bold text-blue-400 mb-2">{dayData.sleep.score}</div>
          <div class="text-sm text-neutral-400">Sleep Score</div>
          <div class="text-xs text-neutral-600 mt-1">8Sleep</div>
        </div>
        <div class="bg-neutral-950 rounded-xl p-6 border border-neutral-800 text-center">
          <div class="text-3xl font-bold text-green-400 mb-2">{dayData.morningRun.distance}mi</div>
          <div class="text-sm text-neutral-400">Morning Run</div>
          <div class="text-xs text-neutral-600 mt-1">Garmin</div>
        </div>
        <div class="bg-neutral-950 rounded-xl p-6 border border-neutral-800 text-center">
          <div class="text-3xl font-bold text-purple-400 mb-2">{(dayData.lifting.volume / 1000).toFixed(1)}k</div>
          <div class="text-sm text-neutral-400">Lbs Lifted</div>
          <div class="text-xs text-neutral-600 mt-1">Speediance</div>
        </div>
        <div class="bg-neutral-950 rounded-xl p-6 border border-neutral-800 text-center">
          <div class="text-3xl font-bold text-orange-400 mb-2">{dayData.nutrition.protein}g</div>
          <div class="text-sm text-neutral-400">Protein</div>
          <div class="text-xs text-neutral-600 mt-1">Tracking</div>
        </div>
      </div>
    </div>
  </section>

  {/* Key Insights */}
  <section class="py-16 bg-neutral-950">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-12 text-center">Key Insights</h2>
      
      <div class="max-w-3xl mx-auto space-y-8">
        <div class="bg-neutral-900/50 rounded-xl p-6 border border-neutral-800">
          <h3 class="text-lg font-semibold text-white mb-3">Why I Train Early In The Morning</h3>
          <p class="text-neutral-400 leading-relaxed">
            Morning runs hit different. My Garmin data shows consistently lower resting heart rate and better HRV readings before 8 AM. Plus, getting the workout done first means no excuses later in the day — life doesn't get in the way of training when training is already done.
          </p>
        </div>
        
        <div class="bg-neutral-900/50 rounded-xl p-6 border border-neutral-800">
          <h3 class="text-lg font-semibold text-white mb-3">How I Use Data to Optimize Recovery</h3>
          <p class="text-neutral-400 leading-relaxed">
            My WHOOP recovery score drives my training intensity. When I'm under 40%, I scale back — lighter lifting, walking instead of running. The 8Sleep Pod 3 tracks sleep debt in real-time, and I've found that 7+ hours of actual sleep (not just time in bed) correlates directly with better lifting performance the next day.
          </p>
        </div>
        
        <div class="bg-neutral-900/50 rounded-xl p-6 border border-neutral-800">
          <h3 class="text-lg font-semibold text-white mb-3">Why I Don't Train at Night</h3>
          <p class="text-neutral-400 leading-relaxed">
            My Speediance sessions are all before 2 PM. Evening lifting jacks up my heart rate too close to bedtime, and my 8Sleep data proves it — workouts after 6 PM drop my sleep score by an average of 15 points. The data told me: morning and early afternoon are my training windows.
          </p>
        </div>
      </div>
    </div>
  </section>

  {/* Tech Stack Used */}
  <section class="py-16 bg-neutral-900">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-8 text-center">The Tech Stack</h2>
      
      <div class="flex flex-wrap justify-center gap-6">
        <a href="/running" class="flex items-center gap-2 px-4 py-2 bg-neutral-800 rounded-lg hover:bg-neutral-700 transition-colors">
          <span class="text-green-400">●</span>
          <span class="text-white">Garmin Fenix</span>
        </a>
        <a href="/speediance" class="flex items-center gap-2 px-4 py-2 bg-neutral-800 rounded-lg hover:bg-neutral-700 transition-colors">
          <span class="text-purple-400">●</span>
          <span class="text-white">Speediance</span>
        </a>
        <span class="flex items-center gap-2 px-4 py-2 bg-neutral-800 rounded-lg">
          <span class="text-blue-400">●</span>
          <span class="text-white">8Sleep Pod 3</span>
        </span>
        <span class="flex items-center gap-2 px-4 py-2 bg-neutral-800 rounded-lg">
          <span class="text-red-400">●</span>
          <span class="text-white">WHOOP 5.0</span>
        </span>
      </div>
    </div>
  </section>

  {/* CTA */}
  <section class="py-16 bg-neutral-950 border-t border-neutral-800">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-2xl font-bold mb-4">Want More Data?</h2>
      <p class="text-neutral-400 mb-8 max-w-2xl mx-auto">
        Dive deeper into your fitness data with my detailed pages for running, lifting, and recovery tracking.
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <a href="/running" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors">
          Running Stats
        </a>
        <a href="/speediance" class="px-6 py-3 bg-neutral-800 hover:bg-neutral-700 text-white rounded-lg font-medium transition-colors">
          Lifting Stats
        </a>
        <a href="/training" class="px-6 py-3 bg-neutral-800 hover:bg-neutral-700 text-white rounded-lg font-medium transition-colors">
          Full Dashboard
        </a>
      </div>
    </div>
  </section>

</Layout>
